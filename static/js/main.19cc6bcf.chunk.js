(this["webpackJsonpimage-search"]=this["webpackJsonpimage-search"]||[]).push([[0],{12:function(e,r,t){},19:function(e,r,t){e.exports=t(43)},43:function(e,r,t){"use strict";t.r(r);var a=t(0),n=t.n(a),o=t(5),l=t.n(o),s=t(1),c=t(3),u=t(18),i=t(4),p=t(2),d={photos:{},error:null,loading:!1,query:null,savedQueries:[],onDisplay:[]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"QUERY_LOADING":return Object(p.a)({},e,{loading:!0});case"QUERY_SUCCESS":return Object(p.a)({},e,{photos:Object(p.a)({},e.photos,Object(i.a)({},r.queryKeyword,r.payload)),error:null,loading:!1,query:r.queryKeyword,onDisplay:r.payload});case"QUERY_FAILURE":return Object(p.a)({},e,{photos:Object(p.a)({},e.photos,Object(i.a)({},r.queryKeyword,r.payload)),error:r.error,loading:!1,query:r.queryKeyword,onDisplay:[]});case"QUERY_SAVE":return!e.savedQueries.includes(e.query)&&e.onDisplay.length>0?Object(p.a)({},e,{photos:Object(p.a)({},e.photos,Object(i.a)({},r.queryKeyword,r.payload)),error:null,loading:!1,savedQueries:[].concat(Object(u.a)(e.savedQueries),[e.query])}):Object(p.a)({},e,{error:"Nothing to save"});case"QUERY_LOAD_SAVED":return Object(p.a)({},e,{onDisplay:e.photos[r.query],error:null});default:return e}},h=Object(c.c)({queries:m}),y=t(17),E=(t(12),t(8)),v=new(0,t(8).default)({accessKey:"G30dGv3bmlBVahi1AuWqaLxS7g7f4x0bABqwPhd8hHs",secret:"RhWCrY76VVhLkjHkrLDtkSYGgnaL3pb19YdHv2OveBw"}),f={queryRequest:function(e){return console.log("query request runs"),function(r){return r({type:"QUERY_LOADING",queryKeyword:e,error:null,loading:!0}),v.search.photos(e,1,10,{orientation:"portrait"}).then(E.toJson).then((function(t){t.results.length>0?r({type:"QUERY_SUCCESS",payload:t.results,queryKeyword:e,error:null}):r({type:"QUERY_FAILURE",payload:t.photos,queryKeyword:e,error:"Your query returned no results. Please try a different keyword"})})).catch((function(t){return r({type:"QUERY_FAILURE",queryKeyword:e,error:"Your query returned no results. Please try a different keyword"})}))}},saveQuery:function(){return function(e){e({type:"QUERY_SAVE"})}},loadSaved:function(e){return function(r){r({type:"QUERY_LOAD_SAVED",query:e})}}},b=function(e){var r=Object(s.c)();return n.a.createElement("div",{className:"searchBar-wrapper"},n.a.createElement("form",{className:"searchField-form"},n.a.createElement("input",{className:"searchField-input",id:"searchField",type:"search",name:"",defaultValue:"",onSubmit:function(e){return alert(e)}}),n.a.createElement("div",{className:"searchBar-buttons-wrapper"},n.a.createElement("input",{className:"searchField-button button",htmlFor:"searchField",type:"submit",value:"Search",onClick:function(e){return function(e){e.preventDefault();var t=document.getElementById("searchField").value;r(f.queryRequest(t))}(e)}}),e.children)))},g=function(e){var r="?utm_source=image-search&utm_medium=referral";return n.a.createElement("div",{className:"photoPreview-container"},n.a.createElement("img",{src:e.photo.urls.thumb,alt:e.photo.description}),n.a.createElement("div",{className:"photoPreview-attribution_wrapper"},n.a.createElement("div",{className:"photoPreview-attribution"},n.a.createElement("span",null,"Photo by "),n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(e.photo.links.html,"/").concat(r)},n.a.createElement("em",null,e.photo.user.username)),n.a.createElement("span",null," on "),n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://unsplash.com/".concat(r)},n.a.createElement("em",null,"Unsplash")))))},q=Object(s.b)((function(e){return{photos:e.queries}}),{})((function(e){var r=e.photos.query,t=e.photos.onDisplay;return console.log("props.photos.error"),console.log(e.photos.error),n.a.createElement("div",{className:"gallery"},n.a.createElement("div",{className:"gallery-message ".concat(e.photos.error|e.photos.loading?"gallery-message_display":"")},n.a.createElement("p",null,e.photos.error?e.photos.error:"")),n.a.createElement("div",{className:"searchResults"},r&&t?t.map((function(e,r){return n.a.createElement(g,{key:r,photo:e})})):null))})),Q=Object(s.b)((function(e){return{queries:e.queries}}),{})((function(e){var r=Object(s.c)();return console.log("SAVED QUERIES props"),console.log(e),console.log("store"),n.a.createElement("div",{className:"savedQueries-wrapper",id:"savedQueries"},n.a.createElement("div",{className:"savedQueries-results"},n.a.createElement("ul",null,e.queries.savedQueries?e.queries.savedQueries.map((function(e){return n.a.createElement("li",{key:"savedQuer-".concat(e)},n.a.createElement("button",{className:"savedQueries-button button",onClick:function(){r(f.loadSaved(e))}},e))})):null)))})),O=function(e){var r=function(){return document.documentElement.clientWidth<721},t=Object(s.c)();return n.a.createElement("button",{className:"searchField-button button ".concat(e.className),onClick:function(e){e.preventDefault(),r()?document.getElementById("savedQueries").classList.toggle("savedQueries-wrapper_display"):t(f.saveQuery())}},r()?n.a.createElement("span",{role:"img","aria-label":"star icon representing the list of favourites"},"\u2b50"):n.a.createElement("span",null,"SAVE"))},w=function(e){return n.a.createElement("div",{className:"App"},n.a.createElement(b,null,n.a.createElement(O,null)),n.a.createElement("section",{className:"main"},n.a.createElement(q,null),n.a.createElement(Q,null)))},j=Object(c.d)(h,{},Object(c.a)(y.a));l.a.render(n.a.createElement(s.a,{store:j},n.a.createElement(w,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.19cc6bcf.chunk.js.map