{"version":3,"sources":["redux/reducers/search.js","redux/reducers/combinedReducers.js","redux/actions/query.js","components/SearchBar.js","components/ImagePreview.js","components/Gallery.js","components/SavedQueries.js","components/SaveButton.js","App.js","index.js"],"names":["initialState","photos","error","loading","query","savedQueries","onDisplay","saveQuery","state","action","type","queryKeyword","payload","includes","length","combined","combineReducers","search","unsplash","Unsplash","require","default","accessKey","secret","queryActions","queryRequest","value","console","log","dispatch","orientation","then","toJson","res","results","catch","rej","loadSaved","SearchBar","props","useDispatch","className","id","name","defaultValue","onSubmit","e","alert","htmlFor","onClick","preventDefault","keyword","document","getElementById","children","ImagePreview","utm","src","photo","urls","thumb","alt","description","target","rel","href","links","html","user","username","connect","queries","queryResult","map","index","key","SaveButton","mobile","documentElement","clientWidth","classList","toggle","role","aria-label","App","store","createStore","combinedReducers","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render"],"mappings":"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","file":"static/js/main.8021a1cc.chunk.js","sourcesContent":["\r\nconst initialState = {\r\n    photos: {},\r\n    error: null,\r\n    loading: false,\r\n    query: null,\r\n    savedQueries: [],\r\n    onDisplay: []\r\n}\r\n\r\nconst saveQuery = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case \"QUERY_LOADING\":\r\n            return {\r\n                ...state, \r\n                loading: true\r\n            }\r\n        case \"QUERY_SUCCESS\":\r\n            return {\r\n                ...state, \r\n                photos: {\r\n                    ...state.photos,\r\n                    [action.queryKeyword]: action.payload\r\n                },\r\n                error: null,\r\n                loading: false,\r\n                query: action.queryKeyword,\r\n                onDisplay: action.payload\r\n            }\r\n        case \"QUERY_FAILURE\":\r\n            return {\r\n                ...state, \r\n                photos: {\r\n                    ...state.photos,\r\n                    [action.queryKeyword]: action.payload\r\n                },\r\n                error: action.error,\r\n                loading: false,\r\n                query: action.queryKeyword,\r\n                onDisplay: []\r\n            }\r\n        case \"QUERY_SAVE\":\r\n            if(!state.savedQueries.includes(state.query) && state.onDisplay.length > 0){\r\n                return {\r\n                    ...state, \r\n                    photos: {\r\n                        ...state.photos,\r\n                        [action.queryKeyword]: action.payload\r\n                    },\r\n                    error: null,\r\n                    loading: false,\r\n                    savedQueries: [...state.savedQueries, state.query]\r\n                }\r\n            }\r\n            else{\r\n                return{\r\n                    ...state,\r\n                    error: \"Nothing to save\"\r\n                }\r\n            }\r\n        case \"QUERY_LOAD_SAVED\":\r\n                return {\r\n                    ...state, \r\n                    onDisplay: state.photos[action.query],\r\n                    error: null\r\n                }\r\n        default: return state\r\n    }\r\n}\r\n\r\n\r\nexport default saveQuery","import search from './search'\r\nimport { combineReducers } from 'redux'\r\n\r\nconst combined = combineReducers({\r\n    \"queries\": search\r\n})\r\n\r\nexport default combined","import { toJson } from 'unsplash-js'\r\n\r\nconst Unsplash = require('unsplash-js').default;\r\n\r\nconst unsplash = new Unsplash({ \r\naccessKey: \"G30dGv3bmlBVahi1AuWqaLxS7g7f4x0bABqwPhd8hHs\",\r\nsecret: \"RhWCrY76VVhLkjHkrLDtkSYGgnaL3pb19YdHv2OveBw\"\r\n});\r\n\r\nconst queryRequest = (value) => {\r\n    console.log(\"query request runs\")\r\n    return dispatch => {\r\n            dispatch({\r\n                type: \"QUERY_LOADING\",\r\n                queryKeyword: value,\r\n                error: null,\r\n                loading: true\r\n            })\r\n            return unsplash.search.photos(value, 1, 10, { orientation: \"portrait\" })\r\n                  .then(toJson)\r\n                  .then(res => {\r\n                    if(res.results.length > 0){\r\n                        dispatch({\r\n                            type: \"QUERY_SUCCESS\",\r\n                            payload: res.results,\r\n                            queryKeyword: value,\r\n                            error: null\r\n                        })\r\n                    }\r\n                    else{\r\n                        dispatch({\r\n                            type: \"QUERY_FAILURE\",\r\n                            payload: res.photos,\r\n                            queryKeyword: value,\r\n                            error: \"Your query returned no results. Please try a different keyword\"\r\n                        })\r\n                    }\r\n                  })\r\n                  .catch(rej => {\r\n                      return(\r\n                        dispatch({\r\n                          type: \"QUERY_FAILURE\",\r\n                          queryKeyword: value,\r\n                          error: \"Your query returned no results. Please try a different keyword\"\r\n                      })\r\n                    )\r\n                  })\r\n            }\r\n    }\r\n\r\nconst saveQuery = () => {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"QUERY_SAVE\",\r\n        })\r\n    }\r\n}\r\n\r\nconst loadSaved = (query) => {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: \"QUERY_LOAD_SAVED\",\r\n            query: query\r\n        })\r\n    }\r\n}\r\n\r\nconst updateQuery = () => {\r\n\r\n}\r\n\r\nconst queryActions = {\r\n    queryRequest, saveQuery, loadSaved\r\n}\r\n\r\nexport default queryActions","import React from 'react';\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport queryActions from '../redux/actions/query'\r\n\r\nconst SearchBar = (props) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const search = (e) => {\r\n        e.preventDefault()\r\n        const keyword = document.getElementById(\"searchField\").value\r\n        dispatch(queryActions.queryRequest(keyword))\r\n    }\r\n\r\n    return(\r\n        <div className=\"searchBar-wrapper\">\r\n            <form className=\"searchField-form\">\r\n                    <input \r\n                        className=\"searchField-input\"\r\n                        id=\"searchField\" \r\n                        type=\"search\" \r\n                        name=\"\" \r\n                        defaultValue=\"\" \r\n                        onSubmit={e => alert(e)}\r\n                    />\r\n                <div className=\"searchBar-buttons-wrapper\">\r\n                    <input \r\n                        className=\"searchField-button button\"\r\n                        htmlFor=\"searchField\" \r\n                        type=\"submit\" \r\n                        value=\"Search\" \r\n                        onClick={(e) => search(e)}\r\n                    />\r\n                    {props.children}\r\n                </div>\r\n          </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchBar","import React from 'react'\r\n\r\nconst ImagePreview = (props) => {\r\n    const utm = \"?utm_source=image-search&utm_medium=referral\"\r\n    return(\r\n        <div className=\"photoPreview-container\">\r\n            <img src={props.photo.urls.thumb} alt={props.photo.description} />\r\n            <div className=\"photoPreview-attribution_wrapper\">\r\n                <div className=\"photoPreview-attribution\">\r\n                    <span>Photo by </span><a target=\"_blank\" rel=\"noopener noreferrer\" href={`${props.photo.links.html}/${utm}`}><em>{props.photo.user.username}</em></a><span> on </span><a target=\"_blank\" rel=\"noopener noreferrer\" href={`https://unsplash.com/${utm}`}><em>Unsplash</em></a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePreview","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport ImagePreview from './ImagePreview'\r\n\r\nconst Gallery = (props) => {\r\n    const queryKeyword = props.photos.query\r\n    const queryResult = props.photos.onDisplay\r\n    console.log(\"props.photos.error\")\r\n    console.log(props.photos.error)\r\n        return(\r\n            <div className=\"gallery\">\r\n                {/* <div className=\"gallery-message\"> */}\r\n                <div className={`gallery-message ${props.photos.error | props.photos.loading ? \"gallery-message_display\" : \"\"}`}>\r\n                    <p>{props.photos.error ? props.photos.error : \"\"}</p>\r\n                </div>\r\n                    <div className=\"searchResults\">\r\n                        {\r\n                            queryKeyword && queryResult ? \r\n                                queryResult.map((photo, index) => {\r\n                                    return <ImagePreview \r\n                                                key={index}\r\n                                                photo={photo}\r\n                                            />\r\n                                }) :\r\n                                null\r\n                        }\r\n                    </div>\r\n            </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    photos: state.queries\r\n})\r\n\r\nexport default connect(mapStateToProps, {})(Gallery) ","import React from 'react'\r\nimport { connect, useDispatch } from 'react-redux'\r\n\r\nimport queryActions from '../redux/actions/query'\r\n\r\n\r\nconst SavedQueries = (props) => {\r\n    const dispatch = useDispatch()\r\n    console.log(\"SAVED QUERIES props\")\r\n    console.log(props)\r\n    console.log(\"store\")\r\n    return(\r\n            <div className=\"savedQueries-wrapper\" id=\"savedQueries\">\r\n                <div className=\"savedQueries-results\">\r\n                    <ul>\r\n                        {\r\n                            props.queries.savedQueries ?\r\n                                props.queries.savedQueries.map(query => {\r\n                                    return  <li key={`savedQuer-${query}`}>\r\n                                                <button\r\n                                                    className={\"savedQueries-button button\"}\r\n                                                    onClick={() => {\r\n                                                        dispatch(queryActions.loadSaved(query))\r\n                                                    }}\r\n                                                >\r\n                                                    {query}\r\n                                                </button>\r\n                                            </li>\r\n                                }) :\r\n                                null\r\n                        }\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    queries: state.queries\r\n})\r\n\r\nexport default connect(mapStateToProps, {})(SavedQueries) ","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport queryActions from '../redux/actions/query'\r\n\r\nconst SaveButton = (props) => {\r\n    const mobile = () => document.documentElement.clientWidth < 721 ? true : false;\r\n    const dispatch = useDispatch()\r\n    return(\r\n        <button \r\n            className={`searchField-button button ${props.className}`}\r\n            onClick={(e) => {\r\n                e.preventDefault()\r\n                if(mobile()){\r\n                    document.getElementById(\"savedQueries\").classList.toggle(\"savedQueries-wrapper_display\")\r\n                    return\r\n                }\r\n                dispatch(queryActions.saveQuery())\r\n            }}\r\n        >\r\n            {mobile() ? \r\n                <span role=\"img\" aria-label=\"star icon representing the list of favourites\">⭐</span> :\r\n                <span>SAVE</span>\r\n            }\r\n            \r\n        </button>\r\n    )\r\n}\r\n\r\nexport default SaveButton","import React from 'react';\r\n\r\nimport './css/main.css';\r\nimport SearchBar from './components/SearchBar';\r\nimport Gallery from './components/Gallery';\r\nimport SavedQueries from './components/SavedQueries';\r\nimport SaveButton from './components/SaveButton';\r\n\r\n\r\nconst App = (props) => {\r\n\r\n    return (\r\n      <div className=\"App\">\r\n            <SearchBar>\r\n              <SaveButton />\r\n            </SearchBar>\r\n        <section className=\"main\">    \r\n            <Gallery />\r\n            <SavedQueries />\r\n        </section>\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default App\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\n//store setup\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport combinedReducers from './redux/reducers/combinedReducers';\r\nimport thunk from 'redux-thunk'\r\n\r\nimport './css/main.css';\r\nimport App from './App';\r\n\r\n\r\nconst initialState = {\r\n}\r\n\r\nconst store = createStore(\r\n    combinedReducers, \r\n    initialState,\r\n    compose(\r\n        applyMiddleware(thunk),\r\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    )\r\n)\r\n\r\nReactDOM.render(\r\n<Provider store={store}>\r\n    <App />\r\n</Provider>,\r\ndocument.getElementById('root')\r\n);"],"sourceRoot":""}